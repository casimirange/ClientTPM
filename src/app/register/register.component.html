<div *ngIf="isSignedUp; else signupForm">
  Your registration is successful. Please login!
</div>

<ng-template #signupForm>
  <div class="row col-sm-6" style="max-width:350px;">
    <form name="form" (ngSubmit)="f.form.valid && onSubmit()" #f="ngForm" novalidate>
      <div class="form-group">
        <label for="name">Your name</label>
        <input type="text" class="form-control" name="name" [(ngModel)]="form.name" #name="ngModel" required />
        <div *ngIf="f.submitted && name.invalid">
          <div *ngIf="name.errors.required">Name is required</div>
        </div>
      </div>
      <div class="form-group">
        <label for="username">Username</label>
        <input type="text" class="form-control" name="username" [(ngModel)]="form.username" #username="ngModel"
          required />
        <div *ngIf="f.submitted && username.invalid">
          <div *ngIf="username.errors.required">Username is required</div>
        </div>
      </div>
      <div class="form-group">
        <label for="email">Email</label>
        <input type="text" class="form-control" name="email" [(ngModel)]="form.email" #email="ngModel" required email />
        <div *ngIf="f.submitted && email.invalid">
          <div *ngIf="email.errors.required">Email is required</div>
          <div *ngIf="email.errors.email">Email must be a valid email address</div>
        </div>
      </div>
      <div class="form-group">
        <label for="password">Password</label>
        <input type="password" class="form-control" name="password" [(ngModel)]="form.password" #password="ngModel"
          required minlength="6" />
        <div *ngIf="f.submitted && password.invalid">
          <div *ngIf="password.errors.required">Password is required</div>
          <div *ngIf="password.errors.minlength">Password must be at least 6 characters</div>
        </div>
      </div>
      <div class="form-group">
        <button class="btn btn-primary">Register</button>
        <div *ngIf="f.submitted && isSignUpFailed" class="alert alert-warning">
          Signup failed!<br/>{{errorMessage}}
        </div>
      </div>
    </form>
  </div>
</ng-template>

<div class="h-100">
  <div class="h-100 no-gutters row">
    <div class="h-100 d-md-flex d-sm-block bg-white justify-content-center align-items-center col-md-12 col-lg-7">
      <div class="mx-auto app-login-box col-sm-12 col-md-10 col-lg-9">
        <div class="app-logo"></div>
        <h4>
          <div>Welcome,</div>
          <span>It only takes a <span class="text-success">few seconds</span> to create your account</span></h4>
        <div>
          <form [formGroup]="registerForm">
            <div class="form-row">
              <div class="col-md-6">
                <div class="position-relative form-group">
                  <label for="exampleEmail" class=""><span class="text-danger">*</span> Email</label>
                  <input formControlName="email" name="email" id="exampleEmail" placeholder="Email here..." type="email" class="form-control">
                </div>
                <div style="color: #f65656" *ngIf="registerForm.controls['email'].invalid && (registerForm.controls['email'].touched)">
                  <span>*</span> entrez une adresse mail valide
                </div>
              </div>
              <div class="col-md-6">
                <div class="position-relative form-group">
                  <label for="exampleName" class="">Nom & Prénom</label>
                  <input name="text" id="exampleName" placeholder="Name here..." formControlName="name" type="text" class="form-control">
                </div>
                <div style="color: #f65656" *ngIf="registerForm.controls['name'].invalid && (registerForm.controls['name'].touched)">
                  <span>*</span> au moins 4 caractères requis
                </div>
              </div>
              <div class="col-md-6">
                <div class="position-relative form-group">
                  <label for="examplePassword" class=""><span class="text-danger">*</span> Username</label>
                  <input name="password" formControlName="username" id="examplePassword" placeholder="Username" type="text" class="form-control">
                </div>
                <div style="color: #f65656" *ngIf="registerForm.controls['username'].invalid && (registerForm.controls['username'].touched)">
                  <span>*</span> au moins 3 caractères requis
                </div>
              </div>
              <div class="col-md-6">
                <div class="position-relative form-group">
                  <label for="examplePasswordRep" class=""><span class="text-danger">*</span> Password</label>
                  <input name="passwordrep" id="examplePasswordRep" formControlName="password" placeholder="Password here..." type="password" class="form-control">
                </div>
                <div style="color: #f65656" *ngIf="registerForm.controls['password'].invalid && (registerForm.controls['password'].touched)">
                  <span>*</span> le mot de passe doit comporter au moins 6 caractères
                </div>
              </div>
            </div>
            <!--<div class="mt-3 position-relative form-check"><input name="check" id="exampleCheck" type="checkbox" class="form-check-input"><label for="exampleCheck" class="form-check-label">Accept our <a href="javascript:void(0);">Terms-->
              <!--and Conditions</a>.</label></div>-->
            <div *ngIf="registerForm.valid && isSignUpFailed" class="alert alert-warning">
              Echec d'Inscription!<br/>{{errorMessage}}
            </div>
            <div class="mt-4 d-flex align-items-center"><h5 class="mb-0">Déjà inscrit? <a routerLink="/auth/login" class="text-primary">Connexion</a></h5>
              <div class="ml-auto">
                <button class="btn-wide btn-pill btn-shadow btn-hover-shine btn btn-primary btn-lg" [disabled]="registerForm.invalid" (click)="onSubmit()">Create User</button>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
    <div class="d-lg-flex d-xs-none col-lg-5">
      <div class="slider-light">
        <div class="slick-slider slick-initialized">
          <div>
            <div class="position-relative h-100 d-flex justify-content-center align-items-center bg-premium-dark" tabindex="-1">
              <div class="slide-img-bg" style="background-image: url('assets/images/originals/citynights.jpg');"></div>
              <div class="slider-content"><h3>Scalable, Modular, Consistent</h3>
                <p>Easily exclude the components you don't require. Lightweight, consistent Bootstrap based styles across all elements and components</p></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>